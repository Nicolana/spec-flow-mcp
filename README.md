# Spec Flow MCP

ğŸ¤– **AI Infra å¼€å‘è§„èŒƒæ²»ç†å·¥å…·**

ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) çš„æ™ºèƒ½å¼€å‘è§„èŒƒç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡ AI é©±åŠ¨çš„è§„èŒƒæ²»ç†ï¼Œå¸®åŠ©å›¢é˜Ÿé™ä½è¿”å·¥æˆæœ¬ï¼Œæé«˜ä»£ç ä¸€è‡´æ€§ï¼Œç¼©çŸ­æ–°æˆå‘˜ä¸Šæ‰‹æ—¶é—´ã€‚

## ğŸ¯ æ ¸å¿ƒä»·å€¼

### ğŸ”„ é™ä½è¿”å·¥æˆæœ¬
- è‡ªåŠ¨åŒ–è§„èŒƒæ£€æŸ¥å’Œæé†’
- é¢„é˜²ä¸ä¸€è‡´çš„ä»£ç é£æ ¼å’Œæ¶æ„å†³ç­–
- å‡å°‘ä»£ç è¯„å®¡ä¸­çš„é‡å¤æ€§é—®é¢˜

### ğŸ“ æé«˜ä»£ç ä¸€è‡´æ€§  
- ç»Ÿä¸€çš„å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µ
- æ ‡å‡†åŒ–çš„ç»„ä»¶å¼€å‘æ¨¡å¼
- ä¸€è‡´çš„é¡¹ç›®ç»“æ„å’Œå‘½åçº¦å®š

### âš¡ ç¼©çŸ­ä¸Šæ‰‹æ—¶é—´
- æ–°æˆå‘˜å¿«é€Ÿäº†è§£é¡¹ç›®è§„èŒƒ
- äº¤äº’å¼è§„èŒƒæŸ¥è¯¢å’Œå­¦ä¹ 
- AI è¾…åŠ©çš„è§„èŒƒåº”ç”¨æŒ‡å¯¼

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **MCP åè®®é›†æˆ**: ä¸ AI åŠ©æ‰‹æ— ç¼å¯¹æ¥ï¼Œæä¾›æ™ºèƒ½è§„èŒƒæŸ¥è¯¢
- ğŸ“ **è§„èŒƒå…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€æŸ¥è¯¢ã€ç‰ˆæœ¬æ§åˆ¶
- ğŸ’¾ **æœ¬åœ°æ–‡ä»¶å­˜å‚¨**: åœ¨é¡¹ç›®æ ¹ç›®å½•è‡ªåŠ¨åˆ›å»º `spec` ç›®å½•ï¼Œè§„èŒƒä¸é¡¹ç›®åŒæ­¥
- ğŸ”§ **TypeScript æ”¯æŒ**: ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒä¼˜ç§€
- ğŸ“¦ **ç°ä»£ Node.js æŠ€æœ¯æ ˆ**: é«˜æ€§èƒ½ã€æ˜“ç»´æŠ¤

## å®‰è£…

```bash
pnpm install
```

## å¼€å‘

```bash
# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»º
pnpm build

# ç”Ÿäº§è¿è¡Œ
pnpm start
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é€šè¿‡ npx ç›´æ¥ä½¿ç”¨ï¼ˆæ¨èï¼‰
```bash
# ç›´æ¥è¿è¡Œæœ€æ–°ç‰ˆæœ¬
npx spec-flow-mcp@latest

# æˆ–è€…æŒ‡å®šç‰ˆæœ¬
npx spec-flow-mcp@1.0.0
```

### åœ¨ MCP å®¢æˆ·ç«¯ä¸­é…ç½®
åœ¨æ”¯æŒ MCP çš„ AI ç¼–è¾‘å™¨ï¼ˆå¦‚ Cursorï¼‰çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "spec-flow-mcp": {
      "command": "npx",
      "args": ["spec-flow-mcp@latest"]
    }
  }
}
```

## ğŸ”§ å¼€å‘å’Œè°ƒè¯•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ pnpm è„šæœ¬
```bash
# å¼€å‘æ¨¡å¼ï¼ˆå®æ—¶é‡è½½ï¼‰
pnpm dev

# æ„å»ºåè¿è¡Œ
pnpm build && pnpm start
```

### æ–¹æ³•äºŒï¼šæœ¬åœ°å¼€å‘è°ƒè¯•
```bash
# ä½¿ç”¨ tsx è¿è¡Œ TypeScript
npx tsx src/index.ts

# æˆ–è€…æ„å»ºåè¿è¡Œ
pnpm build && node dist/index.js
```

### æ–¹æ³•ä¸‰ï¼šVS Code è°ƒè¯•
1. æ‰“å¼€ VS Code
2. æŒ‰ `F5` æˆ–é€‰æ‹©"è¿è¡Œå’Œè°ƒè¯•"
3. é€‰æ‹©"è°ƒè¯• MCP æœåŠ¡å™¨"é…ç½®

### æ–¹æ³•å››ï¼šç¯å¢ƒå˜é‡è°ƒè¯•
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
LOG_LEVEL=DEBUG pnpm dev

# æŒ‡å®šè‡ªå®šä¹‰ç«¯å£ï¼ˆå¦‚æœéœ€è¦ï¼‰
PORT=3000 LOG_LEVEL=DEBUG pnpm dev
```

## ğŸ› ï¸ MCP å·¥å…· API

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | å‚æ•° |
|---------|---------|------|
| `get_development_spec` | è·å–æŒ‡å®šçš„å¼€å‘è§„èŒƒ | `spec_name`, `category?` |
| `list_specs` | åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è§„èŒƒ | æ—  |
| `create_development_spec` | åˆ›å»ºæ–°çš„å¼€å‘è§„èŒƒ | `spec_name`, `content`, `category?` |
| `edit_development_spec` | ç¼–è¾‘å·²å­˜åœ¨çš„è§„èŒƒ | `spec_name`, `content`, `category?` |

### æ”¯æŒçš„è§„èŒƒåˆ†ç±»
- `frontend`: å‰ç«¯å¼€å‘è§„èŒƒï¼ˆé»˜è®¤ï¼‰
- `backend`: åç«¯å¼€å‘è§„èŒƒ  
- `mobile`: ç§»åŠ¨ç«¯å¼€å‘è§„èŒƒ
- `design`: è®¾è®¡è§„èŒƒ

## ğŸ“ æ–‡ä»¶ç»“æ„

```
spec-flow-mcp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ mcpServer.ts    # MCP æœåŠ¡å™¨å®ç°
â”‚   â”‚   â””â”€â”€ specService.ts  # è§„èŒƒæœåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ fileSystem.ts   # æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â”‚   â”‚   â””â”€â”€ logger.ts       # æ—¥å¿—å·¥å…·
â”‚   â””â”€â”€ index.ts        # åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ spec/              # è‡ªåŠ¨åˆ›å»ºçš„è§„èŒƒå­˜å‚¨ç›®å½•
â””â”€â”€ dist/              # æ„å»ºè¾“å‡ºç›®å½•
```

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### 1. AI åŠ©æ‰‹é›†æˆ
åœ¨ Cursorã€VS Code ç­‰æ”¯æŒ MCP çš„ AI ç¼–è¾‘å™¨ä¸­ï¼š
```
ç”¨æˆ·: "è·å–è¡¨æ ¼ç»„ä»¶çš„å¼€å‘è§„èŒƒ"
AI: è°ƒç”¨ get_development_spec("spttable") â†’ è¿”å›è¯¦ç»†è§„èŒƒ
```

### 2. å›¢é˜Ÿè§„èŒƒç®¡ç†
```bash
# åˆ›å»ºæ–°çš„ç»„ä»¶è§„èŒƒ
create_development_spec("æ–°ç»„ä»¶å", "è§„èŒƒå†…å®¹")

# æŸ¥çœ‹æ‰€æœ‰ç°æœ‰è§„èŒƒ
list_specs()

# æ›´æ–°è§„èŒƒå†…å®¹
edit_development_spec("ç»„ä»¶å", "æ›´æ–°åçš„å†…å®¹")
```

### 3. æ–°æˆå‘˜å¿«é€Ÿä¸Šæ‰‹
æ–°å›¢é˜Ÿæˆå‘˜å¯ä»¥é€šè¿‡ AI åŠ©æ‰‹å¿«é€ŸæŸ¥è¯¢ï¼š
- é¡¹ç›®çš„ç¼–ç è§„èŒƒ
- ç»„ä»¶å¼€å‘æ¨¡å¼
- æœ€ä½³å®è·µæŒ‡å—

## ğŸ” å·¥ä½œåŸç†

1. **è§„èŒƒå­˜å‚¨**: æ‰€æœ‰è§„èŒƒä»¥ Markdown æ ¼å¼å­˜å‚¨åœ¨é¡¹ç›®çš„ `spec/` ç›®å½•
2. **MCP åè®®**: é€šè¿‡æ ‡å‡† MCP åè®®ä¸ AI åŠ©æ‰‹é€šä¿¡
3. **æ™ºèƒ½æ£€ç´¢**: AI åŠ©æ‰‹å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡æ™ºèƒ½æŸ¥è¯¢ç›¸å…³è§„èŒƒ
4. **å®æ—¶åŒæ­¥**: è§„èŒƒæ›´æ–°å³æ—¶ç”Ÿæ•ˆï¼Œå›¢é˜Ÿæˆå‘˜ç«‹å³å¯ç”¨

è¯¥å·¥å…·è®©å¼€å‘è§„èŒƒä»é™æ€æ–‡æ¡£å˜æˆäº†å¯äº¤äº’ã€å¯æŸ¥è¯¢çš„çŸ¥è¯†åº“ï¼ŒçœŸæ­£å®ç°äº† AI é©±åŠ¨çš„å¼€å‘è§„èŒƒæ²»ç†ã€‚

## ğŸ“¦ å‘å¸ƒåˆ° npm

### å‘å¸ƒæ­¥éª¤
```bash
# 1. ç¡®ä¿å·²æ„å»º
pnpm build

# 2. ç™»å½• npmï¼ˆå¦‚æœè¿˜æ²¡æœ‰ç™»å½•ï¼‰
npm login

# 3. å‘å¸ƒåŒ…
npm publish

# 4. å‘å¸ƒå¸¦æ ‡ç­¾çš„ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰
npm publish --tag latest
```

### ç‰ˆæœ¬ç®¡ç†
```bash
# å‡çº§ç‰ˆæœ¬
npm version patch   # 1.0.0 -> 1.0.1
npm version minor   # 1.0.1 -> 1.1.0
npm version major   # 1.1.0 -> 2.0.0

# å‘å¸ƒæ–°ç‰ˆæœ¬
npm publish
```

å‘å¸ƒåï¼Œç”¨æˆ·å°±å¯ä»¥é€šè¿‡ `npx spec-flow-mcp@latest` ç›´æ¥ä½¿ç”¨ä½ çš„å·¥å…·äº†ï¼
